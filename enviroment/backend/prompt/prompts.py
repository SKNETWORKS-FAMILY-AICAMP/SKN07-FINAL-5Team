from langchain_core.prompts import PromptTemplate


rag_prompt = PromptTemplate.from_template(
    """
    당신은 인재매칭 AI 어시스턴트입니다. 사용자 이력서에 기반하여 채용공고를 5개 추천해주세요.
    
    - 반드시 이력서에 기반할 것.
    - 출력 시 채용공고의 양식을 사용할 것.
    - 출력 시 지역은 상세하게 출력 할 것.
    - 채용공고 추천 이유를 한줄로 설명할 것.         
    - 같은 공고 번호가 중복될 경우 단 1개만 추천할 것.                  
    - 채용공고 전체 내용을 기반하여 분석할 것. 제목만 보고 판단하지 말 것.
    - page_content의 전체 텍스트를 기준으로 판단할 것.
    - 추천된 [채용공고]와 [이력서]를 참고하여 각 공고 별로 예상 면접 질문 5개를 만들 것.
        - 면접 질문 유형은 아래와 같이 출력할 것.
        - 1개 회사와 관련된 질문
        - 2개 인적성 면접
        - 2개 기술/역량 면접
    - 면접 질문은 웹 검색을 허용
    #이력서: 
    {question} 
    #채용공고: 
    {context} 

    #출력형태
    - 기업명, 공고명, [경력]
    - 직무, 지역 
    """
)

# ------------------------ 질문 생성 프롬프트 ------------------------

# 인문계열 질문 생성 프롬프트
qa_hum_prompt = """
## [질문 생성 규칙]
    1. 아래 항목에 맞춰 질문을 순서대로 구성하세요.
        * 기업적합성 질문 : 3개
            
        * 직무역량 질문 : 3개

        * 의사소통 능력 질문 : 2개

        * 태도 및 인성 질문 : 2개

    2. 참고자료의 [면접 기출 질문]을 참고하여 기출 변형 질문을 생성하세요. 질문 하단에 참고한 기출 질문을 명시하세요.

    3. 기출 질문과 완전히 동일한 질문은 피하고, 새로운 질문으로 변형하세요.

    4. 참고자료의 [면접 팁], [면접 평가]의 내용을 질문 의도로 설정하세요.

    5. [면접 팁], [면접 평가]를 분석해 면접 이전에 어떤 전형을 진행했는지 추출하고, 질문 생성 시 참고하세요. 

    6. 지원자료에서 지원자의 전공과 프로젝트를 추출해 직무역량 질문을 생성하세요. 질문 하단에 추출한 전공과 프로젝트를 명시하세요.

    7. 참고자료의 면접자 정보에 적합한 질문을 생성하세요.

    8. 각 질문의 질문 의도는 중복되어선 안 되고, 의미가 비슷한 질문은 제외하세요.

    9. 질문은 아래 형식에 맞춰 출력해주세요:
        1. 질문 내용
        2. 질문 내용
        ...
        10. 질문 내용
"""

# 공학계열 질문 생성 프롬프트
qa_eng_prompt = """
## [질문 생성 규칙]
    1. 아래 항목에 맞춰 질문을 순서대로 구성하세요.:
        * 직무역량 및 기술 관련 질문: 3개

        * 경력 및 프로젝트 경험 기반 질문: 3개

        * 협업 및 커뮤니케이션 능력 질문: 2개

        * 기업적합성 질문: 2개

    2. 참고자료의 [면접 기출 질문]을 참고하여 기출 변형 질문을 생성하세요. 질문 하단에 참고한 기출 질문을 명시하세요.

    3. 기출질문과 완전히 동일한 질문은 피하고, 새로운 질문으로 변형하세요.

    4. 참고자료의 [면접 팁]과 [면접 평가] 내용을 질문 의도로 설정하세요.

    5. 지원자료에서 과제나 프로젝트를 추출하고 프로젝트 경험 질문 생성에 참고하세요. 질문 하단에 추출한 프로젝트를 명시하세요.

    6. 지원자료에서 희망 직무, 기술스택을 추출하고 기술 관련 질문 생성 시 참고하세요. 질문 하단에 추출한 직무, 기술스택을 명시하세요.

    7. 참고 자료의 면접자 정보에 적합한 질문을 생성하세요.

    8. 각 질문의 질문 의도는 중복되어선 안 되고, 의미가 비슷한 질문은 제외하세요.
    
    9. 질문은 아래 형식에 맞춰 출력해주세요:
        1. 질문 내용
        2. 질문 내용
        ...
        10. 질문 내용
"""

# 예체능 계열 질문 생성 프롬프트
qa_arts_prompt = """
## [질문 생성 규칙]
    1. 아래 항목에 맞춰 질문을 순서대로 구성하세요.:
        * 자기 이해 및 기업적합성 질문: 3개

        * 창의성과 문제해결력 질문: 2개

        * 프로젝트 경험 및 실무 역량 기반 질문: 3개

        * 협업능력과 커뮤니케이션 능력 질문 : 2개

    2. 참고자료의 [면접 기출 질문]을 참고하여 기출 변형 질문을 생성하세요. 질문 하단에 참고한 기출 질문을 명시하세요.

    3. 기출질문과 완전히 동일한 질문은 피하고, 새로운 질문으로 변형하세요.

    4. 기출질문을 참고하되, 특정 직업이 명시된 경우 참고하지 마세요.

    5. 참고자료의 [면접 팁]과 [면접 평가] 내용을 질문 의도로 설정하세요.

    6. 지원자료에서 수행했던 과제나 프로젝트를 추출하고, 프로젝트 경험 질문 생성에 참고하세요. 질문 하단에 추출한 프로젝트를 명시하세요.

    7. 지원자료에서 사용 가능한 툴이나 장비, 기법을 추출하고 실무 역량 기반 질문 생성 시 참고하세요. 질문 하단에 추출한 툴, 기술을 명시하세요.

    8. 참고 자료의 면접자 정보에 적합한 질문을 생성하세요.

    9. 각 질문의 질문 의도는 중복되어선 안 되고, 의미가 비슷한 질문은 제외하세요.
    
    10. 질문은 아래 형식에 맞춰 출력해주세요:
        1. 질문 내용
        2. 질문 내용
        ...
        10. 질문 내용
"""

# ------------------------ 답변 평가 생성 프롬프트 ------------------------
# 공통 평가 항목
ev_list = """
[평가 항목]
1. 논리성 (Logical Coherence)  
- 답변이 논리적으로 구성되었는가?  
- 문장 간의 연결이 자연스러운가?

2. 질문 이해도 (Question Comprehension)  
- 질문의 핵심 의도를 정확히 이해하고 답변했는가?

3. 직무 전문성 (Job-Related Expertise)
- 직무역량 질문인 경우에만 평가하세요.
- 직무와 관련된 지식 또는 경험을 구체적으로 언급했는가?

4. 표현 습관 (Speech Habits)  
- 반복되는 말버릇, 불필요한 표현 또는 과장된 표현이 있었는가?

5. 시간 활용력 (Time Management)  
- 90초 이내에 핵심 내용을 명확히 전달했는가?  
- 20초 미만이거나 90초를 초과하는 경우 감점 요인
"""

# 인문 계열 답변 평가 프롬프트
ev_hum_prompt = """
[계열별 답변 평가규칙]
    1. 전공 및 배경지식 활용 능력
    - 인문/사회 계열 전공 또는 배경지식을 적절히 활용하여 질문에 답변했는가?

    2. 문제 해결력
    - 질문에서 제시된 상황을 정확히 파악하고, 현실적인 해결 방안을 제시했는가?
    - 단순 의견 제시를 넘어서 원인 분석, 대안 제시, 논리적 흐름을 갖추었는가?

    3. 비판적 사고력
    - 자신의 주장에 대한 타당성을 설명하거나, 반론을 예상하고 대응하는 표현이 있었는가?
"""

# 공학 계열 답변 평가 프롬프트
ev_eng_prompt = """
[계열별 답변 평가규칙]
    1. 기술적 이해도 및 전문성
    - 전공 지식, 기술 스택, 도구, 프로세스에 대한 이해를 바탕으로 답변했는가?
    - 실제 프로젝트나 경험 사례를 통해 기술 적용 능력을 설명했는가?

    2. 문제 해결 능력 (Problem Solving)
    - 기술적 문제를 파악하고, 논리적인 접근으로 해결 방법을 제시했는가?
    - 구체적인 구현 방식 또는 대안적 접근이 있었는가?

    3. 협업 및 커뮤니케이션 능력
    - 기술적 내용뿐만 아니라 협업 과정에서의 커뮤니케이션, 팀워크에 대한 고려가 있었는가?

    4. 최신 기술 트렌드 반영 여부 (선택적 가산점)
    - 면접자가 산업 내 최신 기술 동향이나 트렌드를 언급하거나 이에 대한 이해를 드러낸 경우, 보너스 점수를 부여하세요.
    - 해당 내용을 언급하지 않은 경우에는 감점을 하지 않습니다.
"""

# 예체능 계열 답변 평가 프롬프트
ev_arts_prompt = """
[계열별 답변 평가규칙]
    1. 창의성 및 독창성 (예술, 디자인, 패션 관련 직무 한정 평가 실행)
    - 자신의 작업이나 경험에서 독창적인 아이디어 또는 창작 과정을 설명했는가?
    - 자기만의 표현 방식을 보여주었는가?

    2. 실기 및 실무 이해도
    - 실무 현장에서 요구되는 기획, 제작, 발표 등 각 단계에 대한 이해와 경험이 있는가?

    3. 작품 또는 활동 사례 설명
    - 본인의 포트폴리오, 프로젝트, 공연, 전시 등의 사례를 근거로 자신의 강점을 설명했는가?
"""


# ------------------------ 종합 평가 프롬프트 ------------------------
ev_total_list = """
1. 질문 적합성 (0~100점)  
- 질문의 핵심 의도를 잘 이해하고, 그에 적합한 내용을 전달했는가?
- 반복적으로 질문의 요지를 벗어난 경우 점수를 감점하세요.  
- 감점 요인 예시:
    - 질문과 무관한 이야기 반복
    - 질문 의도에 맞는 결론 없이 설명만 나열
    - 질문과 무관한 경험 위주로 구성됨

2. 논리성과 구체성 (0~100점)  
- 답변의 전개가 논리적이고, 구체적인 경험이나 데이터를 기반으로 설명했는가?
- STAR 방식처럼 (상황 → 행동 → 결과)로 답변 흐름이 자연스러운지 평가하세요.
- 모호하거나 일관되지 않은 내용이 많을 경우 감점하세요.  
- 감점 요인 예시:
    - 추상적 표현 남용 (예: 열심히 했습니다)
    - 사실관계 모순, 논리 비약, 과도한 일반화

3. 직무 연관성 (0~100점)  
- 답변 전반에서 직무 관련 기술, 역량, 관심도, 태도가 나타났는가?  
- 사용자가 언급한 기술, 프로젝트, 소통 방식 등이 지원 직무와 연결되어 있는지 평가하세요.
- 직무와 무관하거나 일반적인 답변이 많은 경우 감점하세요.
- 감점 요인 예시:
    - 직무와 무관한 예시 위주로 구성됨
    - 직무 관련 용어나 기술에 대한 언급 부족
    - 해당 산업 및 직무에 대한 이해도 부족

"""
